# rsi (relative strength index) 2-period strategy: mathematical formulation

the rsi (relative strength index) 2-period strategy is a momentum oscillator used to identify overbought or oversold conditions in an asset. the rsi ranges from 0 to 100.

## relative strength index (rsi)
the rsi is calculated in a series of steps:

1.  **price change ($delta$)**: calculate the difference between the current closing price and the previous closing price.
    $$ \Delta C_t = C_t - C_{t-1} $$

2.  **average gain ($ag$) and average loss ($al$)**:
gains are positive price changes, and losses are absolute values of negative price changes. the average gain and average loss are typically calculated using an exponential moving average (ema) for periods $n > 1$, but for a 2-period rsi, a simple average is often used.

    for the first $n$ periods, a simple average is used:
    $$ ag_t = \frac{\sum_{i=0}^{n-1} \text{gain}_{t-i}}{n} $$
    $$ al_t = \frac{\sum_{i=0}^{n-1} \text{loss}_{t-i}}{n} $$

    where $\text{gain}$ is $\Delta C_t$ if $\Delta C_t > 0$, else $0$; and $\text{loss}$ is $|\Delta C_t|$ if $\Delta C_t < 0$, else $0$.

    for subsequent periods, the sma for 2 periods can be approximated by a simple average of the last two periods.

3.  **relative strength ($rs$)**: the ratio of the average gain to the average loss.
    $$ rs_t = \frac{ag_t}{al_t} $$
    if $al_t = 0$, $rs_t$ is typically set to a very high value or 100 to reflect extreme upward momentum.

4.  **rsi calculation**: the rsi is then calculated using the rs value.
    $$ rsi_t = 100 - \frac{100}{1 + rs_t} $$

## trading signals

the trading signals are generated by comparing the 2-period rsi with predefined overbought and oversold thresholds.

-   **buy signal (long entry)**:
    a buy signal is generated when the rsi crosses below a specified oversold threshold. this suggests the asset is undervalued and due for a price reversal upwards.
    mathematically, a buy signal occurs at time $t$ if:
    $$ rsi_t < \text{oversold threshold} \quad \text{and} \quad rsi_{t-1} \ge \text{oversold threshold} $$

-   **sell signal (long exit)**:
    a sell signal (to close a long position) is generated when the rsi crosses above a specified overbought threshold. this suggests the asset is overvalued and due for a price reversal downwards.
    mathematically, a sell signal occurs at time $t$ if:
    $$ rsi_t > \text{overbought threshold} \quad \text{and} \quad rsi_{t-1} \le \text{overbought threshold} $$

the `basestrategy` then manages the position sizing, stop-loss, and take-profit levels once a trade is entered or exited.
